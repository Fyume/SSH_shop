# SSH_shop
### 只是个SSH的练习项目

---------------------------------------------------------------------------------------------------------

#### 数据库中
暂定：

#####  用户作品的存放路径：user\uid\bname\后十位时间戳+后缀

##### 作品图片的路径：WebRoot\user\workImg\uid+后十位时间戳+后缀

#####  书本的存放路径：manager\type\bname\后十位时间戳+后缀

##### 书本图片的路径：WebRoot\images\bookImg\后十位时间戳+后缀

---------------------------------------------------------------------------------------------------------

#### 备忘：(未实现)

数据库的**触发器**（删除长时间未激活帐号）

制作**评论区**

**管理界面**的美化

**随机**读一本书的功能

**用户信息界面**

管理员**操作记录**

---------------------------------------------------------------------------------------------------------

***注意事项：***

**①**修改邮箱之后帐号便成未激活状态了，需要重新激活

**②**

#### ContentType对照:

##### .doc       application/msword

##### .docx      application/vnd.openxmlformats-officedocument.wordprocessingml.document

##### .txt       text/plain

##### .jpg/.jpeg image/jpeg



**③**上传的图片没有立刻显示：由于我图片是存到项目文件夹下面的，需要手动刷新项目才出现上传的文件。根据网上说得，好像是由于tomcat和eclipse的文件部署不太一样，eclipse下创建文件会立刻在tomcat那边也生成，而反之不会，这只要配置一下tomcat的server.xml文件即可：

在host标签内加入(privilege属性好像是核心？)

`<Context path="eclipse项目下的路径（例如/SSH_text/images）" docBase="相对于磁盘中的绝对路径" debug="0" reloadable="false" privilege="true"/>`

**④**想不到时间戳的问题搞了我这么久，最终决定，书本的时间戳只存年月日以及时（以免丢失精度）部分。前后端的时间戳转换简直有毒，特别是前端怎么在c:foreach标签里处理后台传来的时间戳，一开始还打算交给后台处理，但是如果要改bean，那数据库的表岂不是也要多出来年月日？浪费资源，假如是action处理，那岂不是要遍历list？而且怎么修改时间戳？多了几个字段？还是再存到map里面，想想都浪费时间。所以还是交给前端搞好了。然后发现jsp是服务器这边的，js脚本的调用是客户端的，怎么在c:foreach标签里面处理时间戳？woc瞬间懵了。onload是不可能的了，就只能将就着用onmouseover了，然后根据几个参数遍历显示出来的书本的时间戳，然后js转化并显示在前端的input框。折中的办法...暂时找不到更好的。

**⑤**我....突然间myeclipse的git插件跪了？报cannot open git-upload-pack按照网上说得搞了还是不行，最终还是用一早下载的git插件push成功了，什么鬼。

**⑥**我发现好像将utils类放到service层比较好，配置得简便点，调用service层就可以操作读写了，不过都已经配置到action层了就。。。

**⑦**交互的东西越想越多细节...要死

**⑧**突然发现记住bootstrap的样式名就不用敲CSS敲个半死。。特别是下拉列表这种要写jq的。。还有struts2的模型驱动等等的数据封装我没有搞。。直接通过json和request取了 好像很不规范 明早 哦不 睡醒就改回去吧。。